@model PortfolioPage.Models.CodeFirst.BlogPost
@using PortfolioPage.Models.CodeFirst

@{
    ViewBag.Title = "Details";

}
<body>
    <div class="container-fluid">
        <div class="row">
            <section class="title-header blog-pages-header">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="section-title">
                                <h3>@Html.DisplayFor(model => model.Title)</h3>
                                <span class="st-border"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <div class="container col-md-10 col-sm-10 col-xs-10 center-block blog-post-pagescontent">
                <div class="row">
                    <div class="col-xs-10 center-block">
                        <div class="row">
                            <div class="row blog-details-styles">
                                <h4 class="blog-details-title"></h4>
                                
                                    @if (Model.MediaURL != null)
                                    {
                                        <div class="row col-xs-12 col-md-8 center-block">
                                            <img class="img-responsive" src="@Model.MediaURL" alt="">
                                        </div>
                                        <hr>
                                    }
                                        
                                <div class="row blog-details-dropdown-row">
                                    <ul class="details-ul">
                                        <li><strong>Created - </strong> @Html.DisplayFor(model => model.Created)</li>
                                        <li><strong>Last Updated - </strong>@Html.DisplayFor(model => model.Updated)</li>
                                    </ul>
                                    @*<div class="dropdown">
                                        <button class="btn btn-default dropdown-toggle glyphicon glyphicon-download blog-dropdown-btn" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
                                            <li>@Html.DisplayNameFor(model => model.Slug)</a></li>
                                            <li>@Html.DisplayFor(model => model.Slug)</li>
                                            <li role="separator" class="divider"></li>
                                            <li>@Html.DisplayNameFor(model => model.MediaURL)</li>
                                            <li>@Html.DisplayFor(model => model.MediaURL)</li>
                                            <li role="separator" class="divider"></li>
                                            <li>@Html.DisplayNameFor(model => model.Published)</li>
                                            <li>@Html.DisplayFor(model => model.Published)</li>
                                        </ul>
                                    </div>*@
                                </div>
                            </div>

                            <div class="details-post-article">
                                @Html.Raw(Model.Body)
                            </div>
                        </div>
                        <div class="row blog-details-styles">
                            @Html.Partial("_BlogButtonsPartial")
                        </div>
                        <div class="row">
                            <div>
                                <a role="button" class="btn btn-readmore show-hide-btn" id="blog-comments-show-hide">
                                    <span class="comments-show-hide">Show Comments</span>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-10 col-md-8 center-block">
                        <div class="row">
                            @*@Html.ActionLink("Create New", "Create", "Comments");*@
                            <div class="col-xs-12 col-md-8 center-block add-comment-section">
                                @Html.Partial("_BlogCommentAddPartial", new Comment() { PostId = Model.Id })
                            </div>
                            <div class="row blogpost-comment-section container col-xs-12">
                                <div class="row blogpost-comment-section"></div>
                                @*@Html.Partial("_AddComment", new { PostId = Model.Id })
                @Html.Partial("_GrinyComments", @Model.Comments.ToList())*@
                                @Html.Partial("_BlogCommentsPartial", @Model.Comments.ToList().OrderByDescending(p => p.Created))
                                @*<div class="display-comments">
                    <ul>
                        <li><a class="btn btn-readmore" href='@Url.Action("BlogPostComments", "Comments", new { id = Model.Id })'>Comments</a></li>
                        <li><a class="btn btn-readmore" href='@Url.Action("Create", "Comments", new { id = Model.Id })'>Add Comment</a></li>
                    </ul>
                </div>*@
                            </div>
                            <br />
                        </div>
                        <div class="row">
                            <hr />
                            <a class="btn btn-readmore" href='@Url.Action("Index", "BlogPosts")'>Back to Blog List</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
